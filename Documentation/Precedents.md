# Описание прецедентов для приложения TourBookingApp

## Прецедент 1. Регистрация клиента

| Раздел                   | Описание                                                                                                                                                                                                                                                                                                                                                     |
| ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Краткое описание**     | Прецедент описывает процесс создания новой учетной записи клиента в мобильном приложении бронирования туров.                                                                                                                                                                                                                                               |
| **Субъекты**             | Клиент, Администратор                                                                                                                                                                                                                                                                                             |
| **Предусловия**          | Приложение установлено на мобильное устройство. Клиент не авторизован в системе.                                                                                                                                                                                                                                                                           |
| **Основной поток**       | 1. Клиент открывает приложение.<br>2. На экране авторизации выбирает пункт «Регистрация».<br>3. Система отображает форму регистрации.<br>4. Клиент вводит адрес электронной почты и пароль.<br>5. Клиент подтверждает ввод данных.<br>6. Система проверяет корректность введённых данных.<br>7. Система создаёт новую учетную запись с ролью user и сохраняет её в Firebase.<br>8. Клиенту отображается сообщение об успешной регистрации. |
| **Альтернативный поток** | 1. Email уже используется — система уведомляет клиента и предлагает авторизацию.<br>2. Некорректный формат данных — система выводит сообщение об ошибке и предлагает повторить ввод.                                                                                                                                                                   |
| **Постусловия**          | В системе создана новая учетная запись клиента с ролью user. Администратор может выполнять те же действия, если зарегистрирован в базе.                                                                                                                                                                                                               |


## Прецедент 2. Авторизация пользователя

| Раздел                   | Описание                                                                                                                                                                                                                                                                                                                                                                                                    |
| ------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Краткое описание**     | Прецедент описывает процесс входа пользователя в систему с использованием ранее созданной учетной записи.                                                                                                                                                                                                                                                                                                   |
| **Субъекты**             | Клиент, Администратор                                                                                                                                                                                                                                                                                                                                                                                 |
| **Предусловия**          | Пользователь зарегистрирован в системе. Приложение запущено.                                                                                                                                                                                                                                                                                                                                                |
| **Основной поток**       | 1. Пользователь открывает приложение.<br>2. Система отображает экран авторизации.<br>3. Пользователь вводит адрес электронной почты и пароль.<br>4. Пользователь нажимает кнопку «Войти».<br>5. Система проверяет введённые данные в базе Firebase.<br>6. При успешной проверке система определяет роль пользователя.<br>7. Система открывает главный экран приложения в соответствии с ролью пользователя. |
| **Альтернативный поток** | 1. Введены неверные данные - система выводит сообщение об ошибке.<br>2. Учетная запись заблокирована - система уведомляет пользователя.                                                                                                                                                                                                                                                                   |
| **Постусловия**          | Пользователь авторизован и получил доступ к функциям системы в рамках своей роли.                                                                                                                                                                                                                                                                                                                           |

## Прецедент 3. Просмотр информации о турах

| Раздел                   | Описание                                                                                                                                                                                                                                                                                                 |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Краткое описание**     | Прецедент описывает просмотр списка доступных туров и подробной информации о выбранном туре.                                                                                                                                                                                                             |
| **Субъекты**             | Клиент, Администратор                                                                                                                                                                                                                                                                                           |
| **Предусловия**          | Пользователь авторизован в системе.                                                                                                                                                                                                                                                                      |
| **Основной поток**       | 1. Пользователь переходит на главный экран приложения.<br>2. Система отображает список доступных туров.<br>3. Пользователь пролистывает список или использует поиск.<br>4. Пользователь выбирает интересующий тур.<br>5. Система отображает детальную информацию о туре (описание, цена, даты, условия). |
| **Альтернативный поток** | 1. Список туров пуст — система отображает соответствующее сообщение.<br>2. Поиск не дал результатов — система уведомляет пользователя.                                                                                                                                                                 |
| **Постусловия**          | Пользователь ознакомился с информацией о доступных турах.                                                                                                                                                                                                                                                |

## Прецедент 4. Бронирование тура

| Раздел                   | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Краткое описание**     | Прецедент описывает процесс оформления пользователем бронирования выбранного тура.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **Субъекты**             | Клиент, Администратор                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Предусловия**          | Пользователь авторизован в системе и просматривает информацию о выбранном туре.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Основной поток**       | 1. Пользователь открывает страницу выбранного тура.<br>2. Пользователь нажимает кнопку «Забронировать».<br>3. Система отображает форму бронирования.<br>4. Пользователь подтверждает даты поездки и количество участников.<br>5. Пользователь подтверждает бронирование.<br>6. Система создает запись о бронировании со статусом «Ожидает подтверждения».<br>7. Информация о бронировании сохраняется в базе данных Firebase.<br>8. Пользователю отображается сообщение об успешном создании бронирования. |
| **Альтернативный поток** | 1. Выбранные даты недоступны - система уведомляет пользователя.<br>2. Пользователь отменяет действие - бронирование не создается.                                                                                                                                                                                                                                                                                                                                                                        |
| **Постусловия**          | В системе создано новое бронирование тура со статусом ожидания подтверждения.                                                                                                                                                                                                                                                                                                                                                                                                                              |

## Прецедент 5. Отмена бронирования тура

| Раздел                   | Описание                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Краткое описание**     | Прецедент описывает процесс отмены ранее созданного бронирования пользователем.                                                                                                                                                                                                                                                                                                                                                   |
| **Субъекты**             | Клиент, Администратор                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Предусловия**          | Пользователь авторизован. У пользователя есть активное бронирование.                                                                                                                                                                                                                                                                                                                                                              |
| **Основной поток**       | 1. Пользователь переходит в раздел «Мои бронирования».<br>2. Система отображает список бронирований пользователя.<br>3. Пользователь выбирает бронирование для отмены.<br>4. Пользователь нажимает кнопку «Отменить бронирование».<br>5. Система запрашивает подтверждение действия.<br>6. Пользователь подтверждает отмену.<br>7. Система изменяет статус бронирования на «Отменено».<br>8. Изменения сохраняются в базе данных. |
| **Альтернативный поток** | 1. Пользователь отклоняет подтверждение - отмена не выполняется.<br>2. Бронирование уже подтверждено администратором - система уведомляет об ограничении отмены.                                                                                                                                                                                                                                                                |
| **Постусловия**          | Статус выбранного бронирования изменен на «Отменено».                                                                                                                                                                                                                                                                                                                                                                             |

## Прецедент 6. Подтверждение бронирования тура

| Раздел                   | Описание                                                                                                                                                                                                                                                                                                                                                                                                            |
| ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Краткое описание**     | Прецедент описывает процесс подтверждения бронирования тура администратором.                                                                                                                                                                                                                                                                                                                                        |
| **Субъекты**             | Администратор                                                                                                                                                                                                                                                                                                                                                                                                       |
| **Предусловия**          | Администратор авторизован. В системе существуют бронирования со статусом «Ожидает подтверждения».                                                                                                                                                                                                                                                                                                                   |
| **Основной поток**       | 1. Администратор открывает административный раздел приложения.<br>2. Система отображает список бронирований, ожидающих подтверждения.<br>3. Администратор выбирает конкретное бронирование.<br>4. Администратор проверяет данные бронирования.<br>5. Администратор нажимает кнопку «Подтвердить».<br>6. Система изменяет статус бронирования на «Подтверждено».<br>7. Обновленные данные сохраняются в базе данных. |
| **Альтернативный поток** | 1. Администратор отклоняет бронирование - статус изменяется на «Отклонено».                                                                                                                                                                                                                                                                                                                                        |
| **Постусловия**          | Бронирование подтверждено или отклонено администратором.                                                                                                                                                                                                                                                                                                                                                            |

## Прецедент 7. Управление турами

| Раздел                   | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Краткое описание**     | Прецедент описывает управление списком туров: добавление, редактирование и удаление информации о турах.                                                                                                                                                                                                                                                                                                                                                                             |
| **Субъекты**             | Администратор                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **Предусловия**          | Администратор авторизован в системе.                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Основной поток**       | 1. Администратор открывает раздел управления турами.<br>2. Система отображает список существующих туров.<br>3. Администратор выбирает действие: добавить, изменить или удалить тур.<br>4. При добавлении администратор вводит данные нового тура.<br>5. При редактировании администратор изменяет существующие данные.<br>6. Администратор подтверждает изменения.<br>7. Система сохраняет изменения в базе данных Firebase.<br>8. Обновленный список туров отображается в системе. |
| **Альтернативный поток** | 1. Данные заполнены некорректно - система уведомляет администратора.<br>2. Администратор отменяет действие - изменения не сохраняются.                                                                                                                                                                                                                                                                                                                                            |
| **Постусловия**          | Список туров обновлен в соответствии с выполненными действиями администратора.                                                                                                                                                                                                                                                                                                                                                                                                      |
